{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\SIDDHANT\\\\Desktop\\\\webpages\\\\majorProject\\\\crown-clothing\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _objectSpread from\"C:\\\\Users\\\\SIDDHANT\\\\Desktop\\\\webpages\\\\majorProject\\\\crown-clothing\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"C:\\\\Users\\\\SIDDHANT\\\\Desktop\\\\webpages\\\\majorProject\\\\crown-clothing\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import firebase from'firebase/app';import'firebase/firestore';import'firebase/auth';var config={apiKey:\"AIzaSyCGU0O5IFd8tX06VlU5Eh52hBEN-3pgp6w\",authDomain:\"crown-db-910f5.firebaseapp.com\",databaseURL:\"https://crown-db-910f5.firebaseio.com\",projectId:\"crown-db-910f5\",storageBucket:\"crown-db-910f5.appspot.com\",messagingSenderId:\"855074196009\",appId:\"1:855074196009:web:49ec08212b081dbae16a38\",measurementId:\"G-4GY644P7F3\"};export var createUserProfileDocument=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(userAuth,additionalData){var userRef,snapShot,displayName,email,createdAt;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(userAuth){_context.next=2;break;}return _context.abrupt(\"return\");case 2:userRef=firestore.doc(\"users/\".concat(userAuth.uid));_context.next=5;return userRef.get();case 5:snapShot=_context.sent;console.log(snapShot);if(snapShot.exists){_context.next=18;break;}displayName=userAuth.displayName,email=userAuth.email;createdAt=new Date();_context.prev=10;_context.next=13;return userRef.set(_objectSpread({displayName:displayName,email:email,createdAt:createdAt},additionalData));case 13:_context.next=18;break;case 15:_context.prev=15;_context.t0=_context[\"catch\"](10);console.log('error creating user',_context.t0.message);case 18:return _context.abrupt(\"return\",userRef);case 19:case\"end\":return _context.stop();}}},_callee,null,[[10,15]]);}));return function createUserProfileDocument(_x,_x2){return _ref.apply(this,arguments);};}();firebase.initializeApp(config);export var auth=firebase.auth();export var firestore=firebase.firestore();var provider=new firebase.auth.GoogleAuthProvider();provider.setCustomParameters({prompt:'select_account'});export var signInWithGoogle=function signInWithGoogle(){return auth.signInWithPopup(provider);};export default firebase;","map":{"version":3,"sources":["C:/Users/SIDDHANT/Desktop/webpages/majorProject/crown-clothing/src/firebase/firebase.utils.js"],"names":["firebase","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","createUserProfileDocument","userAuth","additionalData","userRef","firestore","doc","uid","get","snapShot","console","log","exists","displayName","email","createdAt","Date","set","message","initializeApp","auth","provider","GoogleAuthProvider","setCustomParameters","prompt","signInWithGoogle","signInWithPopup"],"mappings":"4jBAAA,MAAOA,CAAAA,QAAP,KAAqB,cAArB,CACA,MAAO,oBAAP,CACA,MAAO,eAAP,CAEA,GAAMC,CAAAA,MAAM,CAAG,CACbC,MAAM,CAAE,yCADK,CAEbC,UAAU,CAAE,gCAFC,CAGbC,WAAW,CAAE,uCAHA,CAIbC,SAAS,CAAE,gBAJE,CAKbC,aAAa,CAAE,4BALF,CAMbC,iBAAiB,CAAE,cANN,CAObC,KAAK,CAAE,2CAPM,CAQbC,aAAa,CAAE,cARF,CAAf,CAWE,MAAO,IAAMC,CAAAA,yBAAyB,0FAAG,iBAAMC,QAAN,CAAeC,cAAf,sKACnCD,QADmC,iEAGjCE,OAHiC,CAGzBC,SAAS,CAACC,GAAV,iBAAuBJ,QAAQ,CAACK,GAAhC,EAHyB,uBAIlBH,CAAAA,OAAO,CAACI,GAAR,EAJkB,QAIjCC,QAJiC,eAKvCC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EALuC,GAMnCA,QAAQ,CAACG,MAN0B,0BAO7BC,WAP6B,CAOPX,QAPO,CAO7BW,WAP6B,CAOhBC,KAPgB,CAOPZ,QAPO,CAOhBY,KAPgB,CAQ/BC,SAR+B,CAQpB,GAAIC,CAAAA,IAAJ,EARoB,yCAU7BZ,CAAAA,OAAO,CAACa,GAAR,gBACJJ,WAAW,CAAXA,WADI,CAEJC,KAAK,CAALA,KAFI,CAGJC,SAAS,CAATA,SAHI,EAIDZ,cAJC,EAV6B,2FAkBnCO,OAAO,CAACC,GAAR,CAAY,qBAAZ,CAAkC,YAAMO,OAAxC,EAlBmC,wCAqBhCd,OArBgC,wEAAH,kBAAzBH,CAAAA,yBAAyB,gDAA/B,CAyBPV,QAAQ,CAAC4B,aAAT,CAAuB3B,MAAvB,EACA,MAAO,IAAM4B,CAAAA,IAAI,CAAG7B,QAAQ,CAAC6B,IAAT,EAAb,CACP,MAAO,IAAMf,CAAAA,SAAS,CAACd,QAAQ,CAACc,SAAT,EAAhB,CAGP,GAAMgB,CAAAA,QAAQ,CAAE,GAAI9B,CAAAA,QAAQ,CAAC6B,IAAT,CAAcE,kBAAlB,EAAhB,CACAD,QAAQ,CAACE,mBAAT,CAA6B,CAAEC,MAAM,CAAG,gBAAX,CAA7B,EAEA,MAAO,IAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,SAAKL,CAAAA,IAAI,CAACM,eAAL,CAAqBL,QAArB,CAAL,EAAzB,CACP,cAAe9B,CAAAA,QAAf","sourcesContent":["import firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\nimport 'firebase/auth';\r\n\r\nconst config = {\r\n  apiKey: \"AIzaSyCGU0O5IFd8tX06VlU5Eh52hBEN-3pgp6w\",\r\n  authDomain: \"crown-db-910f5.firebaseapp.com\",\r\n  databaseURL: \"https://crown-db-910f5.firebaseio.com\",\r\n  projectId: \"crown-db-910f5\",\r\n  storageBucket: \"crown-db-910f5.appspot.com\",\r\n  messagingSenderId: \"855074196009\",\r\n  appId: \"1:855074196009:web:49ec08212b081dbae16a38\",\r\n  measurementId: \"G-4GY644P7F3\"\r\n    \r\n  };\r\n  export const createUserProfileDocument = async(userAuth,additionalData) =>{\r\n    if(!userAuth) return;\r\n\r\n    const userRef=firestore.doc(`users/${userAuth.uid}`);\r\n    const snapShot=await userRef.get();\r\n    console.log(snapShot);\r\n    if(!snapShot.exists){\r\n      const { displayName, email} = userAuth;\r\n      const createdAt= new Date();\r\n      try{\r\n        await userRef.set({\r\n          displayName,\r\n          email,\r\n          createdAt,\r\n          ...additionalData\r\n        })\r\n      }\r\n      catch(error){\r\n        console.log('error creating user',error.message);\r\n      }\r\n    }\r\n    return userRef;\r\n  }\r\n\r\n\r\n  firebase.initializeApp(config);\r\n  export const auth = firebase.auth();\r\n  export const firestore=firebase.firestore();\r\n\r\n\r\n  const provider =new firebase.auth.GoogleAuthProvider();\r\n  provider.setCustomParameters({ prompt : 'select_account'});\r\n\r\n  export const signInWithGoogle = () =>auth.signInWithPopup(provider);\r\n  export default firebase;"]},"metadata":{},"sourceType":"module"}